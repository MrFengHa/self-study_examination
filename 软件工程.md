# 软件工程

## 第二章 软件需求与软件需求规约

### 第一节 需求与需求获取

#### 知识点1 需求定义及基本性质

##### 需求的定义

一个需求是有关一个“要与构造”的陈述，描述了待开发产品/系统功能能力、性能参数或其它性质。

需求分析：

需求源于用户的一些“需要”，这些“需要”被分析、确认后形成完整的文档，该文档详细地说明了产品“必须或应当”做什么

##### 什么样的陈述可以作为需求

IEEE标准830-1998要求单一需求必须满足五个基本性质：

1、必要的

2、无歧义的

3、可测的

4、可跟踪的

5、可测量的

#### 知识点2 需求分类

##### 需求的分类

1、功能需求，是整个需求的主体

2、非功能需求：性能需求、外部接口需求、设计约束和质量属性需求。

2-1、性能需求：性能需求规约了一个系统或系统构件必须具有的性能特性

2-2、外部接口需求：外部接口需求规约了系统或系统构件必须与之交互的硬件、软件或数据库元素。它也可能规约其格式、时间或其他因素

2-3：设计约束需求：设计约束限制了系统或系统构件的设计方案 

2-4：质量属性需求：质量属性规约了软件产品 必须具有的一个性质是否达到质量方面一个所期望的水平

#### 需求发现的技术

1、自悟、2、交谈、3、观察、4、小组会、5、提炼

### 第二节 需求规约

#### 知识点1 需求规约的定义及基本性质

##### 需求规约的定义

是一个软件/产品/系统所有需求陈述的正式文档，它表达了一个软件/产品/系统的概念模型

##### IEEE标准还规定SRS必须具有以下4个性质

重要性和稳定性程度：按需求的重要性和稳定性，对需求进行分级

可修改的：在不过多的影响其他需求的前提下，可以容易的修改一个单一需求

完整的：没有被遗漏的需求

一致的：不存在互斥的需求

#### 知识点2 需求规约的格式

##### 需求规约（规格说明书）的表达风格

1、非形式化的需求规约

2、半形式化的需求规约

3、形式化的需求规约

#### 知识点3 需求规约的作用

##### 需求规约的作用

1、需求规约是软件开发组织和用户之间一份事实上的技术合同书，是产品功能及其环境的体现

2、需求规约是一个管理控制点

3、对于产品/系统的设计，需求规约是一个正式的、受控的起始点

4、需求规约是创建产品验收计划和用户指南的基础



## 第三章 结构化方法

### 第一节 结构化需求分析

#### 知识点1 需求分析面临的挑战

##### 需求面临的挑战

1、问题空间理解

2、人与人之间的通信，“有效沟通”

3、需求的变化性

##### 需求获取技术特征

方便通讯（使用易于理解的语言）

提供定义系统边界的方法

提供划分、抽象、投影等方法

允许采用多种可供选择的设计方法

适应需求的变化

支持使用问题空间的术语，思考问题和编制文档

##### 分析

分析时系统地使用信息，给出一个问题的估算

##### 分析三要素

需要使用哪些信息

如何系统化的使用信息

估算算法

##### 结构化分析

就软件需求分析而言，结构化分析指系统地使用问题域术语通过工具给出问题的模型

#### 知识点2 基本属于及表示方法

##### 需求分析中的基本术语

1. 数据：客观事务的一种表示
2. 信息：具有特定语义的数据
3. 数据是信息的载体
4. 数据流：数据的流动
5. 加工：数据的加工单元
6. 数据存储
7. 数据源和数据潭

##### 需求层的确定

一个抽象层是由一组确定的术语定义的，为此为了支持需求分析中有关使用的哪些信息的表达，给出以下五个术语/符号：

数据流 ————————> 

加工 圆圈

数据存储 双横杠

数据源、数据潭 正方形

其中

- 数据流、数据存储 支持数据抽象
- 加工 支持过程/功能的抽象，用于表达系统内涵
- 数据源、数据潭 支持系统边界抽象，用于表达系统外延

##### 模型表达工具

这些术语形成了一个特定的术语空间，即：他们之间是“正交”的。

每个术语要表达的信息，形成了该术语的“值域”，并且是一个偏序集

#### 知识点3 建模过程（绘制流程图的过程）

##### 自顶向下、功能分解

1、自顶向下，逐步求精，建立系统的层次数据流程图

2、建立系统环境图，确定系统语境

3、0层图：从0层图开始对流程图中的要素编号

3、定义数据字典

4、描述加工

#### 知识点4 数据字典



结构数据的定义按数据流、数据存储、数据项三种条目组织

数据结构符号

1. = 定义为
2. +顺序结构
3. | 选择结构
4. { } 重复结构
5. m..n 子界

#### 知识点5 加工的描述

##### 判定表

 判定表也称为决策表，是一个二维表，它说明了每一种条件组合所产生结果

该表分为四个象限

1. 左上象限代表所有的条件
2. 左下象限代表可能的结果
3. 右上象限代表每一种条件的取值（用Y和N来表示）
4. 右下象限用X表示所对应的条件组合产生的结果

##### 判定树

判定书也称为决策树，用来描述在一组不同的条件下，决策的行动是根据不同条件及其取值来选择的处理过程。

#### 知识点6 结构化自然语言

是一种介于形式语言和自然语言之间的一种语言

#### 知识点7 应用中应注意的问题

结构化分析方法是一种半形式化的规约方法，在实际应用中，必须按照数据流图中所有元素的方法正确使用。

例如：一个加工必须既有输入又有输出；必须准确的定义数据流和数据存储；必须准确地描述每一个叶加工；

说明输入流数据和输出流数据之间的逻辑关系

##### 模型平衡问题

1. 数据DFD中的数据流和数据存储必须在数据字典中予以定义，并且数据名一致
2. 数据DFD中的最底层加工必须在小说明予于描述，并且加工名一致
3. 父图中的某加工的输入/输出(数据流)和分解这个加工的子图的输入/输出（数据流）必须保持一致
4. 在加工小说明中，所使用的数据流必须是在数据字典中定义的，并且名字是一致的

##### 信息组织复杂性控制问题

1. 上层数据可以"打包"

   上下数据流对应关系在数据字典中给出，但包内数据流的性质（输入、输出）必须一致

2. 一幅图张红的元个数应控制在7±2以内
3. 检查与没一加工相关的数据流的数目应适中（与层次有关）
4. 分析数据内容，确定是否所有的输入信息都用于产生输出信息；分析加工，确定一个加工所产生的的输出，是否都能由该加工的输入信息导出

#### 知识点8 验证需求

##### 验证需求

验证每一个需求满足五个性质，即必要的、无歧义的、可测的、可跟踪的、可测量的

验证需求规格说明书满足四个性质，重要性和稳定性程度、可修改性、完整的、一致的

##### 需求发现的错误类型

1. 不正确的事实：40%
2. 遗漏：31%
3. 不一致的：13%
4. 歧义性：5%
5. 错放：2%
6. 其他：9%

##### 发现错误的方法

1. 审查 65%
2. 单元测试：10%
3. 评估：10%
4. 集成

### 第二节 结构化设计

何谓设计
一种软件开发活动，定义实现需求规约所需结构。
设计目标：依据需求规约，在一个抽象层上建立系统软件模型，包括软件体系结构（数据和程序结构），以及详细的处理算法，产生设计规格说明书。
对设计方法的需求
提供可体现”原理/原则”的一组术语（符号），形成一个特定的抽象层，用于表达设计中所使用的部件。
依据术语所形成的”空间”，给出表达软件模型工具。
给出设计的过程指导

#### 知识点1 总体设计

1. 总体设计的任务：把系统的功能需求分配到一个特定的软件系统结构中
2. 引入了两个概念：
   - 模块： 软件中具有特定表示的独立的成分
   - 模块调用：模块之间的一种使用关系

如何表达模块和模块调用

1. Yourdon提出的模块结构图
2. 层次图
3. 美国IBM提出的HIPO图
   1. H：层次图
   2. IPO：输入/处理/输出图  

##### 总体设计的步骤

将DFD图映射为设计层面的模块及模块调用

1. 将DFD图转化为初始的模块结构图
2. 基于“高内聚、低耦合”的软件设计原理，通过模块化，将初始的模块结构图转化为最终的模块结构图

##### 两种映射方法

###### 变换设计

基于变换的数据流程图是一个线性的顺序结构，由输入、输出和变换中心三部分组成

###### 事务设计

基于事务的数据流程图中有一个事务处理中心，它将输入分为许多相互平行的加工路径，然
后根据输入的属性，选择某一加工路径。

##### 模块化及其启发式规则

###### 模块

执行一个特殊任务的一个过程以及相关的数据结构。模块通常由两部分组成：模块接口和模块体。

###### 模块化的两个问题

如何将系统分解成软件模块

- “分而治之”和“抽象”
- 自顶向下，逐步求精
- 形成模块层次结构

如何设计模块

- 伪码
- 问题分析图PAD
- N-S图

##### 模块化

把一个待开发的软件分解成若干个简单的、具有高内聚低耦合的模块，这一过程称为模块化

###### 模块耦合

耦合(coup ing)是对两个模块之间相互依赖程度的一种度量。模块间的依赖程度越大，则其耦合程度也就越大；反之，模块间的依赖程度越小，则其耦合程度也就越小。

###### 模块间耦合的类型

- 内容耦合：一个模块直接修改或操作另一模块数据
- 公共耦合：两个模块共同引用一个全局数据项
- 控制耦合：一个模块向另一模块传递控制信号
- 标记耦合：一个模块向两个模块传递一个公共参数
- 数据耦合：模块之间通过参数来传递数据

###### 模块内聚

是指一个模块内部个成分之间相互关联程度的度量。也就是说，内聚是对模块内各处理动作组合强度的一种度量。很显然，一个模块的内聚越大越好

###### 内聚的类型

- 偶然内聚：模块的各成分没有任何关系
- 逻辑内聚：逻辑上相关的处理放在一起
- 时间内聚：模块内的功能在同一时间完成
- 过程内聚：模块内的处理以特定的次序执行
- 通信内聚：操作同一数据集
- 顺序内聚：一个成分的输出作为另一成分的输入
- 功能内聚：模块的所有成分完成单一的功能

###### 启发式规则 

高内聚、低耦合

1. 改进软件结构，提高软件独立性。模块分解
2. 模块规模适中
3. 力求深度、宽度、扇出、扇入适中。
   - 深度：表示其控制的层数。
   - 宽度：同一层次上模块总数的最大值。
   - 扇出：一个模块直接控制的下级模块的数目
   - 扇入：有多少个上级模块直接调用它。

###### 尽量使模块的作用域在其控制域内

- 模块的控制域：这个模块本身以及所有直接或间接从属它的模块的集合
- 模块的作用域：受该模块内一个判断所影响的所有模块的集合

###### 尽力降低模块接口的复杂度

###### 力求模块功能可以预测 

#### 知识点2 详细设计

具体描述模块结构图中的每一模块，即给出实现模块功能的实施机制，包括一组例程和数据结构

详细设计的目标：将总体设计阶段产生的系统高层结构映射为以相关术语表达的低层结构，也是系统的最终结构

##### 结构化程序设计的方法

 是一种基于结构的编程方法，即采用顺序结构、选择结构和重复结构进行编程，其中每一结构只允许一个入口和一个出口。
结构化程序设计的本质是：使程序的控制流程线性化，实现程序动态执行顺序符合静态书写的结构，提高程序的可读性。

1. 顺序结构
2. 选择结构
3. 多分支结构
4. 循环结构

##### 详细设计工具

###### 程序流程图 

程序流程图：程序流程图又称为程序框图，它是历史最悠久使用最广泛的描述过程设计的方法，然而它也是用得最混乱的一种方法。

###### 盒图N-S图

出于要有一种不允许违背结构程序设计精神的图形工具的考虑，Nassi和Shne iderman:提出了盒图，又称为N-S图

###### PAD图

PAD是问题分析图(Problem AnalysisDiagr am)的英文缩写，自1973年由日本日立公司发明以后，已得到一定程度的推广。它用二维树形结构的图来表示程序的控制流，将这种图翻译成程序代码比较容易。

###### 类程序设计语言PDL

PDL也称为伪代码，他是用正文形式表示数据和处理过程的设计工具

PDL具有严格的关键字外部语法，用于定义控制结构和数据结构

一般来说PDL是一种“混杂”语言

一般说来PDL是一种“混杂”语言，它使用一种语言（通常是某种自然语言）的词汇，同时却使用另种语言（某种结构化的程序设计语言）的语法

#### 知识点3 设计规约

完整准确地描述满足需求规约所要求的所有功能模块，以及伴随功能模块而出现的非功能机制。设计规约包括概要设计规约和详细设计规约。

##### 概要设计规约

指明高层软件体系结构

1. 系统环境
2. 软件模块的结构
3. 模块描述
4. 文件结构和全局数据文件的逻辑结构
5. 测试需求

##### 详细设计规约

详细设计规约主要作为软件设计人员与程序员之间交流的媒体

1. 各处理过程的算法
2. 算法涉及的全部数据结构的描述
