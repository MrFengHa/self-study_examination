# 04737 C++

## 题型

1. 单项选择
2. 填空
3. 程序填空
4. 程序分析题
5. 程序设计题

# 第一章 C++语言简介

## C++语言的发展简史

没啥说的

## C++语言特点

### 一、基本的输入/输出

`cin>>a`

`cout<<a`

`count<<endl`

### 二、头文件和命名空间

#### 头文件

`#include<iostream>`

#### 命名空间

` using namespace std`

### 三、强制类型转换运算符

1. 将一种数据类型转换成另一种数据类型

`stati_cast<类型名>(表达式)`

``` c++
stati_cast; //可以省略不写
oneint2 = static_cast<int>(oneDouble);
oneint2=int(oneDouble)
oneint2=(int)oneDouble//圆括号
oneint2=oneDouble//(自动)
```

2. 功能：将常量指针转化成非常量的指针，并且仍然指问原来的对象；或是将常量引用转换成非常量的引用，并且仍然指向原来的对象。
   ```
   int a=10,*q;const int ca=30;
   const int*p=&a;//不能使用常量指针p修改a的值
   q=const_cast<int*>(p)/不能q=p
   *q=20
   //变量a的值变为20，不能形成*p=20
   p=&ca;/ca的值不能修改
   ```

### 四、函数参数的默认值

1. 在声明函数为形参指定默认值 
2. 只能为函数最后面的连续若干个参数设置默认值，且在调用处也只能缺省后面的连续若干个实参
3. 在函数调用处只能雀圣后面的连续若干个实参，而且所有缺省的实参必须已经有默认值
4. 不仅可以使用常数，还可用有定义的表达式作为参数的默认值
5. 注意：函数参数的默认值可以写在声明函数的地方，也可以写在定义函数的地方，但不能在两个地方都写。

### 五、引用和函数参数的传递

1. 引用相当于给变量起了一个别名，别名的地址与引用的变量地址是一样的。程序中使用哪个名字都是允许的
   1. 不能通过常引用去修改其引用的变量的值
2. 引用在函数中使用
   ◆引用作为函数的参数数
   在函数在C+中，函数调用时参数的传递有两种方式：传值和传引用。传引用是传递对象的首地址值，形参的改变就意味着实参的改变。

### 六、const与指针共同使用

1. 1如果唯一的cost位于符号*的左侧，表示指针所指数据是常量，数据不能通过本指针改变，但可以通过其他方式进行修改；指针本身是变量，可以指向其他的内存单元。

   ```c++
   int a1=10,a2=20,*pa1=&a1;
   *pa1=30;//正确，a1变成10
   const int*pa2=&a2;//pa2所指的是常量，pa2是
   *pa2=40;//错误
   pa2=&a1;//正确
   
   ```

   

2. 如果唯一的const位于符号*的右侧，表示指针本身是常量，不能让该指针指向其他内存地址；指针所指的数
   据可以通过本指针进行修改。

   ```c++
   int a1=10,a2=20;
   int*const pa2=&a2;//指针变量pa2是常量
   pa2=&a1;//错误
   *pa2=40;//正确
   ```

3. 在符号*的左右各有一个const时，表示指针和指针所指数据都是常量，既不能让指针指向其他地址，也不能
   通过指针修改所指向的内容。

   ```c++
   inta1=10,a2=20;
   const int*const pa1=&a1;//数据和指针都是常量
   pa1=&a2;//错误
   *pa1=30;//错误
   int const*const pa2=&a2;//数据和指针都是常量
   pa2=&a1;//错误
   *pa2=40;//错误
   ```

4. 记住const的修饰规则：const修饰其左侧的内容；如果const是本行的第一个标识符，则它修饰其右侧的内容。

   ```c++
   const int*pa2=&a2;//pa2所指的是常量
   int*const pa2=&a2;//指针变量pa2是常量
   const int*const pa1=&a1;//数据和指针都是常量
   int const*const pa.2=&a2;//数据和指针都是常量
   ```

### 七、内联函数

1. 对于需要频繁调用，且代码量少的函数，可以将其定义为内联函数。编译时，编译程序将整个函数体的代码复
   制到调用该函数的位置。
   定义内联函数的格式如下：
   inl ine返回值类型函数名（形参表）
   {函数体}
   如果函数体中有循环语句和switch语句则通常不定义为内联函数。

### 八、函数的重载

就是一个函数名 函数的参数不一样 有好几个这样的函数 java的重载懂不？

### 九、指针和动态内存分配

1. 指针：即指针变量，该变量储存的是一个地址，是该指针所指对象的首地址。

```c++
int a=100,*pa=&a;
int s[10],ps=s;
//指针ps指向数组s的首地址
```

2. 动态内存分配
   动态分配内存一般格式为：
   指针名=new类型名；//分配
   delete指针名；//释放
   当不再使用这个空间时，必须使用delete释放空间。若使用new运算符动态分配了一个数组，那么释放该数组时，语句如下：delete[]指针。

3. ```c++
   #include <iostream>
   using namespace std;
   int main(){
       double* p;//声明double型指针
       p = new double[3];//分配3个double型数据的存储空间
       for (int i = 0; i < 3; i++)//定义对象的初值为0
           cin >> *(p + i);//将输入数据存入指定地址
       for (int j = 0; j < 3; j++)
           cout << *(p + j) << " ";//将地址里的内容输出
       delete p;//释放空间
   }
   ```

### 十、用string对象处理字符串

C语言用字符数组来处理字符串，C++提供string数据类型来处理符串。

1. 声明string对象
   ```c++
   	string strl;//声明string对象strl,值为空
   	string city = "Beijing";// 声明string对象并初始化
   	string str2 = city;// 使用字符串变量进行初始化
   	char name[] = "C++程序";
   	string str3 = name;// 使用字符数组对string变量进行初
   	string citysf0[] = { "Beijing","Shanghai","Tianjing" };//声明string对象数组，每个数组元素都是字符串
   ```

   1. 说明：
      1. 使用string对象，必须#include<string>;
      2. string对象储存的是字符串的首地址，非字符串本身；sizeof(string)在32位的DevC++中是4，在64位的DevC+中是8。

2. string对象的操作

   1. string对象可以使用cin和cout进行输入和输出

      ```c++
      string si, s2;
      cin >> sl >> s2;
      cout << sl << ","H << s2 << endl;
      ```

   2. string对象之间可以互相赋值，也可以用字符串常量和字符数组的名字对string对象进行赋值。

      ```c++
      string s1,s2="OK";
      s1="China";
      s2=s1;//赋值后s2的内容和s1相同
      ```

3. string对象之间可以用">",">=","==","<=","<","!="运算符进行比较大小。大小的判定标准是按照字典顺序进行的，而且是大小写相关的

   ```c++
   bool b //c++新增了bool类型，该类型只有两个值 1或0 ， 1代表真，0代表假
   
   string s1 = "China",s2 = "OK";
   
   b=s1>s2;//变量b的值为0
   ```

   

## C++语言的程序结构

1. .cpp文件扩展名 文件中包含若干各类和若干个函数
2. 程序仅有一个主函数mai()程序从主函数的开始处执行，在主函数结束

​	程序的结束通常是遇到了以下两种情形之一

​		在主函数遇到了return语句

​		执行到了主函数最后面的大括号

3. 主函数可以调用其他函数，其他函数互相可以调用，其他函数不能调用主函数
4. 注释 // /**/

# 第二章 面向对象的基本概念

## 考核目标

1. 了解传统结构化程序设计的不足，初步理解面向对象程序设计思想、概念和特点
2. 熟悉类的定义和使用方式
3. 通过示例程序剖析对象，理解类成员可访问的范围

## 第一节 结构化设计

1. 结构化程序设计的基本方法：采用自顶向下、逐步求精及模块化的思想，将复杂的大问题层层分解为许多简单的小问题。
2. 结构化程序设计的三种基本结构：顺序结构、选择结构、循环结构。
3. 结构化程序设计的基本思想：
   数据结构+算法=程序
4. 结构化程序设计的缺点：程序在代码规模庞大时，变得难以理解、难以扩充、难以查错和难以复用。
5. 这种情况下，面向对象的程序设计方法就应运而生了

## 第二节 面向对象设计的概念和特点

### 一、面向对象思想的提出

1. 面向对象程序设计方法是20世纪90年代以来软件开发方法的主流，它继承了结构化程序设计方法的优点，
   同时又比较有效地改善了结构化程序设计的不足。
2. 面向对象的程序设计方法：使分析、设计和实现一个系统的方法尽可能地接近人们认识一个系统的方法。通常包括3个方面：面向对象的分析、面向对象的设计和面向对象的程序设计。
3. 面向对象技术把问题看成是对象的集合。对象具有两个特性：一是对象本身的信息，也称为属性；一是对
   对象的操作，也称为行为。
4. 对象=数据（属性)+函数（行为)。
5. 类是对象的一个抽象。

## 二、面向对象程序设计的特点

面向对象程序设计的四个基本特点：抽象、封装、继承和多态。

1. 抽象：将同一类事物的共同特点概括出来，这个过程就叫作“抽象”
   1. 类是对现实世界中客观事物的抽象。对于一个具体的类，它有许多具体的个体，这些个体叫做“对象”
   2. 对象是系统中用来描述客观事物的一个实体，用对象名、属性和操作三要素来描述对象。
   3. 描述属性的数据称为成员变量或数据成员，对这组属性进行操作的函数称为成员函数。对象由数据成员和成员
      函数构成。

2. 封装：就是把对象的属性和操作结合成一个独立的单元。
   封装作用：
   1. 数据和操作数据的函数紧密联系起来；
   2. 将对象的一部分属性和函数隐藏起来，让这部分属性和函数对外不可见，起到保护作用。
   3. 另一些属性和函数对外可见，作为对对象进行操作的接口
3. 继承：在编写一个“新”类的时候，以现有的类作为基础，使得新类从现有的类“派生”而来，从而达到代码扩充和代码复用的目的。
4. 多态：不同的对象可以调用相同名称的函数，但可导致完全不同的行为的现象称为多态性。利用多态性，程序中只需进行一般形式的函数调用，函数的实现细节留给接受函数调用的对象，这大大提高了人们解决复杂问题的能力。

## 第三节 类的初步知识

### 一、类的定义

1. 类的基本概念

   1. 类是具有相同的属性和操作的一组对象的集合，它为属于该类的全部对象提供了统一的抽象描述，其内包括属性（数据变量）和操作（成员函数）两个主要部分。
   2. 类是一种用户自己构造的数据类型；
   3. 类要先声明后使用、是具有唯一标识符的实体；

2. 声明类

   C++中声明类的一般形式为：
   class类名{
   	private:
   		私有变量和函数
   	public:
   		公有变量和函数
   	protected:
   		保护变量和函数
   };

   说明：

   ①private是完全私有的，只有本类内可以访问，派生类和外部都不可以访问；
   ②protected是受保护的，只有本类内和派生类可以访问，外部不能访问；
   ③public内、外部都能访问；
   ④如无访问权限的关键字，则默认声明为private;
   ⑤不能在类的声明中对数据变量进行初始化；
   ⑥类声明中可以给出成员函数的参数的默认值；
   ⑦类中声明的任何成员不能使用extern、auto和register关键字修饰；
   ⑧类中可以不含有任何成员变量和成员函数，这样的类称为空类。

   【例】描述点的Point类

   ```c++
   class Point {					//class是定义类的关键字，Point是类名
   private:						// 声明为私有访问权限
   	int x, y;					// 私有数据成员
   public:							// 声明为公有访问权限
   	void Setxy(int a, int b);	//声明无返回值的公有成员函数
   	void Move(int a, int b);	// 声明无返回值的公有成员函数
   	void Disp();				// 声明无返回值的公有成员函数
   	int Getx();					// 声明返回值为int的公有成员函数
   	int Gety();					// 声明返回值为int的公有成员函数
   
   };
   ```

3. 定义成员函数

   返回值类型 类名：成员函数名（形参列表）
   {成员函数的函数体
   }
   说明：
   ①返回类型是指这个成员函数返回值的类型；
   ②类名是指成员函数所属类的名字；

   ③“::”是作用域运算符，用于表示其后的成员函数属于这个特定的类；
   例：定义属于Point类的成员函数Setxy
   void Point:Setxy(int a,int b)
   {x=a;y=b;}
   ④类中定义的成员函数允许重载。

   ⑤可以使用关键字inline>将成员函数定义为内联函数（凡是出现调用该函数的地方，编译程序自动将其转换为该函数的函数体，不再在程序执行时调用该函数，大大提高了效率)。
   如：inline int Point:Getx()
   {return x;}
   ⑥如果在声明类的同时，在类体内给出成员函数的定义，就默认为内联函数，如将声明Getx()的语句“int Getx();改为“int Getx（)
   {return x;}”,则Getx为内联函数。

   ```C++
   class myDate {
   public:
   	myDate();					//构造函数
   	myDate(int, int, int);		//构造函数
   	void setDate(int, int, int);//设置日期
   	void setDate(myDate);		//设置日期
   	myDate getDate();			//获取日期
   	void setYear(int);			//设置年
   	int getMonth();				//获取月
   	void getDay();				//获取日
   	void printDate() const;		//打印日期
   private:
   	int year, month, day;		//成员变量
   };
   
   myDate::myDate() {							//构造函数用来初始化
   	year = 170,month = 1,day = 1;
   }
   myDate::myDate(int y, int m, int d) {		//构造函数
   	year = y, month = m, day = d;
   }
   void myDate::setDate(int y, int m, int d) { //用变量设置日期
   	year = y, month = m, day = d;
   	return;
   }
   void myDate::setDate(myDate oneD) {			//用对象设置日
   	year = oneD.year, month = oneD.month, day = oneD.day;
   	return;
   }
   myDate myDate::getDate() {					//获取日期
   	return *this;
   }
   void myDate::setYear(int y) {				//设置年
   	year = y;
   	return;
   }
   int myDate::getMonth() {					//获取月
   	return month;
   }
   void myDate::printDate() const {			//打印日期
   	cout << year << "/" << month << "/" << day;
   	return;
   }
   ```

   ```c++
   class Student {
   public:
   	void setStudent(string, myDate);	// 设置学生信息
   	void setName(string);				// 设置姓名
   	string getName();					// 获取姓名
   	void setBirthday(myDate);			// 设置生日
   	myDate getBirthday();				// 获取生日
   	void printStudent()const;			// 打印信息
   private:
   	string name;						// 姓名
   	myDate birthday;					// 生日
   };										//string系统定义好的类，myDate前面例题定义的类
   // 在类体外定义成员函数
   void Student::setStudent(string s, myDate d) { //设置学生信息
   	name = s;
   	birthday.setDate(d);
   	return;
   }
   void Student::setName(string n) {			// 设置姓名
   	name = n;
   	return;
   }
   string Student::getName() {					// 获取姓名
   	return name;
   }
   ```

   

## 第四节 类的示例程序剖析

### 一、程序结构

一个完整的C++程序包括以下几部分。

1. 一个主函数，可以调用其他函数，但不能被调用，也称为主程序。
2. 用户定义的任意多个的类及全局函数。全局说明。在所有函数和类定义之外的变量说明及函数原型。
3. 注释。
4. 头文件。

### 二、成员变量与成员函数的定义

1. 成员变量：一般均定义为私有访问权限，这样的成员仅能在本类内访问。类外需要通过访问本类函数来访问私有的成员变量。
2. 成员函数的定义
   返回值类型 类名::成员函数名（形参列表）
   函数体
   }

### 三、创建类对象的基本形式

1. 定义一个普通对象，即类变量的基本方法有两种

   1. 类名 对象名

      类名 对象名（参数）；//定义对象的同时初始化
      类名 对象名=类名（参数）；

   2. 类名 *对象指针名=new 类名；
      类名 *对象指针名=new 类名()；
      类名 *对象指针名=new 类名（参数）；

2. 声明对象的引用

   1. 类名 &对象引用名 = 对象;

3. 声明对象指针

   1. 类名 *对象指针名 = 对象的地址;

4. 声明对象数组

   1. 类名 对象数组[数组大小];

5. 例：定义了类C后，可以有如下的声明：
   C a1,b1;//定义了C类的对象al和bl
   C *p=&a1;//定义了指向对象al的C类类型的指针p
   C &R=b1;//定义了C类类型对象bl的引用R
   C A[3]://定义了C类类型对象的数组A,含3个元素

## 第五节 访问对象成员

### 一、使用对象访问成员变量与调用成员函数

1. 对象访问成员变量的格式：
   1. 对象名.成员变量名
2. 通过对象的指针访问成员变量的格式：
   1. 对象的指针->成员名
3. 通过对象的引用访问成员变量的格式：
   1. 对象的引用.成员变量名
4. 调用成员函数的格式：
   1. 对象名.成员函数名（参数表）
   2. 对象的指针->成员函数名（参数表）
   3. 对象的引用.成员函数名（参数表）

## 第六节 类成员的可访问范围

### 一、访问范围活命符的含义

1. private是完全私有的，只有本类内可以访问，派生类和外部都不可以访问；
2. protected是受保护的，只有本类内和派生类可以访问，外部不能访问；
3. public内、外部都能访问；

### 二、隐藏的作用

设置私有成员的机制叫做隐藏

“隐藏”的优点

1. 有利于程序的修改
2. 可以避免对对象的不正确操作

## 第七节 标识符的作用域与可见性

C++中标识符的作用域有函数原型作用域、局部作用域块作用域)、类作用域和命名空间作用域。

1. 函数原型作用域：在声明函数原型时形参的作用范围就是函数原型作用域，这是C++程序中最小的作用域。
   例：double ares(double r);
   r的作用范围就在函数area形参列表的左右括号之间。
2. 局部作用域：程序中使用相匹配的一对大括号括起来的一段程序称为块。作用域局限在块内的称为局部作用域。
   具有局部作用域的变量也称为局部变量。
3. 类作用域
   设：m是类X的成员，x是类X的对象，ptr是指向类X的一个对象的指针。则对m的访问方式有如下2种：
   1)类X的成员函数中可直接使用。（除非成员函数中有同名变量)。
   2)在类外，可以通过表达式x.m、X::m或者ptr->m来访问m。但注意不能违反m的访问修饰符的限定。
4. 命名空间作用域
   命名空间是为了消除程序各大模块之间同名引起的歧义。
   定义命名空间的一般形式如下：
   namespace 命名空间名
   {命名空间内的各种声明（函数声明、类声明、...）}
   在命名空间内部可以直接引用当前命名空间中声明的标识符，如果需要引用其他命名空间的标识符，需要使用下面的方式：
   命名空间名：标识符名
5. C++提供两种形式using语句：
   1)using命名空间名：标识符名；
   2)using namespace命名空间名；
   使用该语句后，可以在当前作用域中直接引用该命名空间内的任何标识符。
   例：using namespace std;
   具有命名空间作用域的变量也称为全局变量。

# 第三章 类和对象进阶

# 第四章 运算符重载

# 第五章 类的继承与派生

# 第六章 多态与虚函数

# 第七章 输入/输出流

# 第八章 文件操作

# 第九章 函数模板与类模板 